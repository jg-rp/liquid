<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="search" type="application/opensearchdescription+xml" title="Python Liquid" href="/liquid/opensearch.xml"><title data-react-helmet="true">liquid.Environment | Python Liquid</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://jg-rp.github.io//liquid/api/Environment"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="liquid.Environment | Python Liquid"><meta data-react-helmet="true" name="description" content="Shared configuration from which templates can be loaded and parsed. An environment is where you"><meta data-react-helmet="true" property="og:description" content="Shared configuration from which templates can be loaded and parsed. An environment is where you"><link data-react-helmet="true" rel="icon" href="/liquid/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://jg-rp.github.io//liquid/api/Environment"><link data-react-helmet="true" rel="alternate" href="https://jg-rp.github.io//liquid/api/Environment" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://jg-rp.github.io//liquid/api/Environment" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://SY0LPESLUP-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/liquid/assets/css/styles.b9002737.css">
<link rel="preload" href="/liquid/assets/js/runtime~main.8c991028.js" as="script">
<link rel="preload" href="/liquid/assets/js/main.e82faf94.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/liquid/"><div class="navbar__logo"><img src="/liquid/img/droplet_blue_with_yellow_liquid.svg" alt="Python Liquid Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/liquid/img/droplet_yellow_with_blue_liquid.svg" alt="Python Liquid Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Python Liquid</b></a><a class="navbar__item navbar__link" href="/liquid/">Docs</a><a class="navbar__item navbar__link" href="/liquid/language/filters">Filters</a><a class="navbar__item navbar__link" href="/liquid/language/tags">Tags</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/liquid/api/Environment">API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/jg-rp/liquid/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="searchBox_Utm0"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/liquid/api/Template">API</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/liquid/api/Template">liquid.Template</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/liquid/api/Environment">liquid.Environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/liquid/api/BoundTemplate">liquid.BoundTemplate</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/liquid/api/filesystemloader">liquid.loaders.FileSystemLoader</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/liquid/api/fileextensionloader">liquid.loaders.FileExtensionLoader</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/liquid/api/choiceloader">liquid.loaders.ChoiceLoader</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/liquid/api/dictloader">liquid.loaders.DictLoader</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/liquid/api/context">liquid.Context</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/liquid/api/Tag">liquid.tag.Tag</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/liquid/api/node">liquid.ast.Node</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/liquid/api/exceptions">liquid.exceptions</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>liquid.Environment</h1></header><p>Shared configuration from which templates can be loaded and parsed. An environment is where you
might register custom tags and filters, or store global context variables that should be included
with every template.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="environment"><code>Environment</code><a class="hash-link" href="#environment" title="Direct link to heading">â€‹</a></h2><p><code>class Environment([options])</code></p><p><strong>Parameters:</strong></p><ul><li><p><code>tag_start_string: str</code> - The sequence of characters indicating the start of a liquid tag.
Defaults to <code>{%</code>.</p></li><li><p><code>tag_end_string: str</code> - The sequence of characters indicating the end of a liquid tag. Defaults to
<code>%}</code>.</p></li><li><p><code>statement_start_string: str</code> - The sequence of characters indicating the start of an output
statement. Defaults to <code>{{</code>.</p></li><li><p><code>statement_end_string: str</code> - The sequence of characters indicating the end of an output
statement. Defaults to <code>}}</code>.</p></li><li><p><code>comment_start_string: str</code> - The sequence of characters indicating the start of a comment.
Defaults to <code>{#</code>. <code>template_comments</code> must be <code>True</code> for <code>comment_start_string</code> to have any
effect.</p></li><li><p><code>comment_end_string: str</code> - The sequence of characters indicating the end of a comment. Defaults
to <code>#}</code>. <code>template_comments</code> must be <code>True</code> for <code>comment_end_string</code> to have any effect.</p></li><li><p><code>template_comments: bool</code> - If <code>True</code>, enable template comments. Where, by default, anything
between <code>{#</code> and <code>#}</code> is considered a comment. Defaults to <code>False</code>.</p></li><li><p><code>tolerance: Mode</code> - Indicates how tolerant to be of errors. Must be one of <code>Mode.LAX</code>, <code>Mode.WARN</code>
or <code>Mode.STRICT</code>. Defaults to <code>Mode.STRICT</code>.</p></li><li><p><code>loader: Optional[liquid.loaders.BaseLoader]</code> - A template loader. If you want to use the builtin
&quot;render&quot; or &quot;include&quot; tags, a loader must be configured. Defaults to an empty
<a href="/liquid/api/dictloader">liquid.loaders.DictLoader</a>.</p></li><li><p><code>undefined: liquid.Undefined</code> - A subclass of Undefined that represents undefined values. Could be
one of the built-in undefined types, Undefined, DebugUndefined or StrictUndefined. Defaults to
<code>Undefined</code>, an undefined type that silently ignores undefined values.</p></li><li><p><code>strict_filters: bool</code> - If <code>True</code>, will raise an exception upon finding an undefined filter.
Otherwise undefined filters are silently ignored. Defaults to <code>True</code>.</p></li><li><p><code>autoescape: bool</code> - If <code>True</code>, all context values will be HTML-escaped before output unless
they&#x27;ve been explicitly marked as &quot;safe&quot;. Requires the package Markupsafe. Defaults to <code>False</code>.</p></li><li><p><code>auto_reload: bool</code> - If <code>True</code>, loaders that have an <code>uptodate</code> callable will reload template
source data automatically. For deployments where template sources don&#x27;t change between service
reloads, setting auto_reload to False can yield an increase in performance by avoiding calls to
<code>uptodate</code>. Defaults to <code>True</code>.</p></li><li><p><code>cache_size: int</code> - The capacity of the template cache in number of templates. Defaults to <code>300</code>.
If <code>cache_size</code> is <code>None</code> or less than <code>1</code>, it has the effect of setting <code>auto_reload</code> to <code>False</code>.</p></li><li><p><code>expression_cache_size: int</code> - The capacity of each of the common expression caches. Defaults to
<code>0</code>, disabling expression caching.</p></li><li><p><code>globals: Optional[Mapping[str, object]]</code> - An optional mapping that will be added to the context
of any template loaded from this environment. Defaults to <code>None</code>.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="properties">Properties<a class="hash-link" href="#properties" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="undefined"><code>undefined</code><a class="hash-link" href="#undefined" title="Direct link to heading">â€‹</a></h3><p><strong>Type</strong>: <code>Type[liquid.Undefined]</code></p><p>The undefined type. When an identifier can not be resolved, an instance of undefined is returned.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="strict_filters"><code>strict_filters</code><a class="hash-link" href="#strict_filters" title="Direct link to heading">â€‹</a></h3><p><strong>Type</strong>: <code>bool</code></p><p>Indicates if an undefined filter should raise an exception or be ignored.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="autoescape"><code>autoescape</code><a class="hash-link" href="#autoescape" title="Direct link to heading">â€‹</a></h3><p><strong>Type</strong>: <code>bool</code></p><p>Indicates if auto-escape is enabled.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="tags"><code>tags</code><a class="hash-link" href="#tags" title="Direct link to heading">â€‹</a></h3><p><strong>Type</strong>: <code>Dict[str, liquid.tag.Tag]</code></p><p>A dictionary mapping tag names to liquid.tag.Tag instances.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="filters"><code>filters</code><a class="hash-link" href="#filters" title="Direct link to heading">â€‹</a></h3><p><strong>Type</strong>: <code>Dict[str, Callable[..., Any]</code></p><p>A dictionary mapping filter names to callable objects implementing a filter&#x27;s behavior.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="mode"><code>mode</code><a class="hash-link" href="#mode" title="Direct link to heading">â€‹</a></h3><p><strong>Type</strong>: <code>liquid.Mode</code></p><p>The current tolerance mode.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="cache"><code>cache</code><a class="hash-link" href="#cache" title="Direct link to heading">â€‹</a></h3><p><strong>Type</strong>: <code>MutableMapping[Any, Any]</code></p><p>The template cache.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="auto_reload"><code>auto_reload</code><a class="hash-link" href="#auto_reload" title="Direct link to heading">â€‹</a></h3><p>Indicates if automatic reloading of templates is enabled.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="template_class"><code>template_class</code><a class="hash-link" href="#template_class" title="Direct link to heading">â€‹</a></h3><p><strong>Type</strong>: <code>Type[liquid.template.BoundTemplate]</code></p><p><a href="#get_template">Environment.get_template()</a> and <a href="#from_string">Environment.from_string()</a> return an
instance of <a href="#template_class">Environment.template_class</a>. Defaults to
<a href="/liquid/api/BoundTemplate">liquid.template.BoundTemplate</a>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="globals"><code>globals</code><a class="hash-link" href="#globals" title="Direct link to heading">â€‹</a></h3><p><strong>Type</strong>: <code>Mapping[str, object]</code></p><p>A dictionary of variables that will be added to the context of every template rendered from the
environment.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="methods">Methods<a class="hash-link" href="#methods" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="add_filter"><code>add_filter</code><a class="hash-link" href="#add_filter" title="Direct link to heading">â€‹</a></h3><p><code>add_filter(name, func) -&gt; None</code></p><p>Register a filter function with the environment.</p><p><strong>Parameters:</strong></p><ul><li><p><code>name: str</code> - The filter&#x27;s name. Does not need to match the function name. This is what you&#x27;ll use
to apply the filter to an expression in a liquid template.</p></li><li><p><code>func: Callable[.., Any]</code> - Any callable that accepts at least one argument, the result of the
expression the filter is applied to.</p></li></ul><p><strong>Return type:</strong> <code>None</code></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="add_tag"><code>add_tag</code><a class="hash-link" href="#add_tag" title="Direct link to heading">â€‹</a></h3><p><code>add_tag(tag) -&gt; None</code></p><p>Register a liquid tag with the environment. Built-in tags are registered for you automatically with
every new <code>Environment</code>.</p><p><strong>Parameters:</strong></p><ul><li><code>tag: Type[liquid.tag.Tag]</code> - The <a href="/liquid/api/tag">Tag</a> class to register. Not a class instance.</li></ul><p><strong>Return type:</strong> <code>None</code></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="from_string"><code>from_string</code><a class="hash-link" href="#from_string" title="Direct link to heading">â€‹</a></h3><p><code>from_string(source, [options]) -&gt; liquid.template.BoundTemplate</code></p><p>Parse the given string as a Liquid template.</p><p><strong>Parameters:</strong></p><ul><li><p><code>source: str</code> - The liquid template source code.</p></li><li><p><code>name: str</code> - Name of the template. Available as Template.name. Defaults to the empty
string.</p></li><li><p><code>path: Optional[Union[str, pathlib.Path]]</code> - Optional path or identifier to the origin of the
template. Defaults to <code>None</code>.</p></li><li><p><code>globals: Optional[Mapping[str, object]]</code> - An optional mapping of context variables made
available every time the resulting template is rendered. Defaults to <code>None</code>.</p></li><li><p><code>matter: Optional[Mapping[str, object]]</code> - Optional mapping containing variables associated with
the template. Could be front matter or other meta data. Defaults to <code>None</code>.</p></li></ul><p><strong>Returns:</strong> A parsed template bound to the environment and ready to be rendered.<br>
<strong>Return type:</strong> <a href="/liquid/api/BoundTemplate">liquid.template.BoundTemplate</a></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="get_template"><code>get_template</code><a class="hash-link" href="#get_template" title="Direct link to heading">â€‹</a></h3><p><code>get_template(name, globals=None) -&gt; liquid.template.BoundTemplate</code></p><p>Load and parse a template using the configured loader.</p><p><strong>Parameters:</strong></p><ul><li><p><code>name: str</code> - The template&#x27;s name or identifier. The loader is responsible for interpreting the
name.</p></li><li><p><code>globals: Optional[Mapping[str, object]]</code> - A mapping of context variables made available every
time the resulting template is rendered.</p></li></ul><p><strong>Returns:</strong> A parsed template bound to the environment and ready to be rendered.<br>
<strong>Return type:</strong> <a href="/liquid/api/BoundTemplate">liquid.template.BoundTemplate</a><br>
<strong>Raises:</strong> <a href="/liquid/api/exceptions#liquidexceptionstemplatenotfound">liquid.exceptions.TemplateNotFound</a>: If a template with the given
name can not be found.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="get_template_async"><code>get_template_async</code><a class="hash-link" href="#get_template_async" title="Direct link to heading">â€‹</a></h3><p><code>async get_template_async(name, globals=None) -&gt; liquid.template.BoundTemplate</code></p><p>An async version of <a href="#environmentget_template">get_template</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/jg-rp/liquid/tree/docs/docs/api/environment.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/liquid/api/Template"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">liquid.Template</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/liquid/api/BoundTemplate"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">liquid.BoundTemplate</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#environment" class="table-of-contents__link toc-highlight"><code>Environment</code></a></li><li><a href="#properties" class="table-of-contents__link toc-highlight">Properties</a><ul><li><a href="#undefined" class="table-of-contents__link toc-highlight"><code>undefined</code></a></li><li><a href="#strict_filters" class="table-of-contents__link toc-highlight"><code>strict_filters</code></a></li><li><a href="#autoescape" class="table-of-contents__link toc-highlight"><code>autoescape</code></a></li><li><a href="#tags" class="table-of-contents__link toc-highlight"><code>tags</code></a></li><li><a href="#filters" class="table-of-contents__link toc-highlight"><code>filters</code></a></li><li><a href="#mode" class="table-of-contents__link toc-highlight"><code>mode</code></a></li><li><a href="#cache" class="table-of-contents__link toc-highlight"><code>cache</code></a></li><li><a href="#auto_reload" class="table-of-contents__link toc-highlight"><code>auto_reload</code></a></li><li><a href="#template_class" class="table-of-contents__link toc-highlight"><code>template_class</code></a></li><li><a href="#globals" class="table-of-contents__link toc-highlight"><code>globals</code></a></li></ul></li><li><a href="#methods" class="table-of-contents__link toc-highlight">Methods</a><ul><li><a href="#add_filter" class="table-of-contents__link toc-highlight"><code>add_filter</code></a></li><li><a href="#add_tag" class="table-of-contents__link toc-highlight"><code>add_tag</code></a></li><li><a href="#from_string" class="table-of-contents__link toc-highlight"><code>from_string</code></a></li><li><a href="#get_template" class="table-of-contents__link toc-highlight"><code>get_template</code></a></li><li><a href="#get_template_async" class="table-of-contents__link toc-highlight"><code>get_template_async</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 James Prior. Built with Docusaurus.</div></div></div></footer></div>
<script src="/liquid/assets/js/runtime~main.8c991028.js"></script>
<script src="/liquid/assets/js/main.e82faf94.js"></script>
</body>
</html>